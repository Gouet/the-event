{"ast":null,"code":"import _defineProperty from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import{compose}from'recompose';import{SignUpLink}from'../SignUp';import{PasswordForgetLink}from'../PasswordForget';import{withFirebase}from'../Firebase';import*as ROUTES from'../../constants/routes';var SignInPage=function SignInPage(){return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"SignIn\"),React.createElement(SignInForm,null),React.createElement(PasswordForgetLink,null),React.createElement(SignUpLink,null));};var INITIAL_STATE={email:'',password:'',error:null};var SignInFormBase=/*#__PURE__*/function(_Component){_inherits(SignInFormBase,_Component);function SignInFormBase(props){var _this;_classCallCheck(this,SignInFormBase);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignInFormBase).call(this,props));_this.onSubmit=function(event){var _this$state=_this.state,email=_this$state.email,password=_this$state.password;_this.props.firebase.doSignInWithEmailAndPassword(email,password).then(function(){_this.setState(_objectSpread({},INITIAL_STATE));_this.props.history.push(ROUTES.HOME);}).catch(function(error){_this.setState({error:error});});event.preventDefault();};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_objectSpread({},INITIAL_STATE);return _this;}_createClass(SignInFormBase,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,error=_this$state2.error;var isInvalid=password===''||email==='';return React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"input\",{name:\"email\",value:email,onChange:this.onChange,type:\"text\",placeholder:\"Email Address\"}),React.createElement(\"input\",{name:\"password\",value:password,onChange:this.onChange,type:\"password\",placeholder:\"Password\"}),React.createElement(\"button\",{disabled:isInvalid,type:\"submit\"},\"Sign In\"),error&&React.createElement(\"p\",null,error.message));}}]);return SignInFormBase;}(Component);var SignInForm=compose(withRouter,withFirebase)(SignInFormBase);export default SignInPage;export{SignInForm};","map":{"version":3,"sources":["/Users/victorgouet/Projects/repository/the-event/src/components/SignIn/index.js"],"names":["React","Component","withRouter","compose","SignUpLink","PasswordForgetLink","withFirebase","ROUTES","SignInPage","INITIAL_STATE","email","password","error","SignInFormBase","props","onSubmit","event","state","firebase","doSignInWithEmailAndPassword","then","setState","history","push","HOME","catch","preventDefault","onChange","target","name","value","isInvalid","message","SignInForm"],"mappings":"gqCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,OAASC,kBAAT,KAAmC,mBAAnC,CACA,OAASC,YAAT,KAA6B,aAA7B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,wBAAxB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SACjB,gCACE,uCADF,CAEE,oBAAC,UAAD,MAFF,CAGE,oBAAC,kBAAD,MAHF,CAIE,oBAAC,UAAD,MAJF,CADiB,EAAnB,CASA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAE,EADa,CAEpBC,QAAQ,CAAE,EAFU,CAGpBC,KAAK,CAAE,IAHa,CAAtB,C,GAMMC,CAAAA,c,wEACJ,wBAAYC,KAAZ,CAAmB,gDACjB,gFAAMA,KAAN,GADiB,MAInBC,QAJmB,CAIR,SAAAC,KAAK,CAAI,iBACU,MAAKC,KADf,CACVP,KADU,aACVA,KADU,CACHC,QADG,aACHA,QADG,CAElB,MAAKG,KAAL,CAAWI,QAAX,CACGC,4BADH,CACgCT,KADhC,CACuCC,QADvC,EAEGS,IAFH,CAEQ,UAAM,CACV,MAAKC,QAAL,kBAAmBZ,aAAnB,GACA,MAAKK,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBhB,MAAM,CAACiB,IAA/B,EACD,CALH,EAMGC,KANH,CAMS,SAAAb,KAAK,CAAI,CACd,MAAKS,QAAL,CAAc,CAAET,KAAK,CAALA,KAAF,CAAd,EACD,CARH,EASAI,KAAK,CAACU,cAAN,GACD,CAhBkB,OAiBnBC,QAjBmB,CAiBR,SAAAX,KAAK,CAAI,CAClB,MAAKK,QAAL,oBAAiBL,KAAK,CAACY,MAAN,CAAaC,IAA9B,CAAqCb,KAAK,CAACY,MAAN,CAAaE,KAAlD,GACD,CAnBkB,CAEjB,MAAKb,KAAL,kBAAkBR,aAAlB,EAFiB,aAGlB,C,kEAiBQ,kBAC4B,KAAKQ,KADjC,CACCP,KADD,cACCA,KADD,CACQC,QADR,cACQA,QADR,CACkBC,KADlB,cACkBA,KADlB,CAEP,GAAMmB,CAAAA,SAAS,CAAGpB,QAAQ,GAAK,EAAb,EAAmBD,KAAK,GAAK,EAA/C,CACA,MACE,6BAAM,QAAQ,CAAE,KAAKK,QAArB,EACE,6BACE,IAAI,CAAC,OADP,CAEE,KAAK,CAAEL,KAFT,CAGE,QAAQ,CAAE,KAAKiB,QAHjB,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,eALd,EADF,CAQE,6BACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEhB,QAFT,CAGE,QAAQ,CAAE,KAAKgB,QAHjB,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,UALd,EARF,CAeE,8BAAQ,QAAQ,CAAEI,SAAlB,CAA6B,IAAI,CAAC,QAAlC,YAfF,CAkBGnB,KAAK,EAAI,6BAAIA,KAAK,CAACoB,OAAV,CAlBZ,CADF,CAsBD,C,4BA9C0B/B,S,EAgD7B,GAAMgC,CAAAA,UAAU,CAAG9B,OAAO,CACxBD,UADwB,CAExBI,YAFwB,CAAP,CAGjBO,cAHiB,CAAnB,CAKA,cAAeL,CAAAA,UAAf,CAEA,OAASyB,UAAT","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { SignUpLink } from '../SignUp';\nimport { PasswordForgetLink } from '../PasswordForget';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignInPage = () => (\n  <div>\n    <h1>SignIn</h1>\n    <SignInForm />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n};\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n  onSubmit = event => {\n    const { email, password } = this.state;\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    const { email, password, error } = this.state;\n    const isInvalid = password === '' || email === '';\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign In\n        </button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\nconst SignInForm = compose(\n  withRouter,\n  withFirebase,\n)(SignInFormBase);\n\nexport default SignInPage;\n\nexport { SignInForm };"]},"metadata":{},"sourceType":"module"}