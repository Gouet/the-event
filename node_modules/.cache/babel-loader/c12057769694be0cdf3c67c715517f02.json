{"ast":null,"code":"import _classCallCheck from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/victorgouet/Projects/repository/the-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import AuthUserContext from'./context';import{withFirebase}from'../Firebase';var withAuthentication=function withAuthentication(Component){var WithAuthentication=/*#__PURE__*/function(_React$Component){_inherits(WithAuthentication,_React$Component);function WithAuthentication(props){var _this;_classCallCheck(this,WithAuthentication);_this=_possibleConstructorReturn(this,_getPrototypeOf(WithAuthentication).call(this,props));_this.state={authUser:null};return _this;}_createClass(WithAuthentication,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(authUser){authUser?_this2.setState({authUser:authUser}):_this2.setState({authUser:null});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.listener();}},{key:\"render\",value:function render(){return React.createElement(AuthUserContext.Provider,{value:this.state.authUser},React.createElement(Component,this.props));}}]);return WithAuthentication;}(React.Component);return withFirebase(WithAuthentication);};export default withAuthentication;","map":{"version":3,"sources":["/Users/victorgouet/Projects/repository/the-event/src/components/Session/withAuthentication.js"],"names":["React","AuthUserContext","withFirebase","withAuthentication","Component","WithAuthentication","props","state","authUser","listener","firebase","auth","onAuthStateChanged","setState"],"mappings":"i1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,WAA5B,CACA,OAASC,YAAT,KAA6B,aAA7B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,SAAS,CAAI,IAChCC,CAAAA,kBADgC,wFAEpC,4BAAYC,KAAZ,CAAmB,oDACjB,oFAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,IADC,CAAb,CAFiB,aAKlB,CAPmC,4FAQhB,iBAClB,KAAKC,QAAL,CAAgB,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,IAApB,CAAyBC,kBAAzB,CACd,SAAAJ,QAAQ,CAAI,CACVA,QAAQ,CACJ,MAAI,CAACK,QAAL,CAAc,CAAEL,QAAQ,CAARA,QAAF,CAAd,CADI,CAEJ,MAAI,CAACK,QAAL,CAAc,CAAEL,QAAQ,CAAE,IAAZ,CAAd,CAFJ,CAGD,CALa,CAAhB,CAOD,CAhBmC,mEAiBb,CACrB,KAAKC,QAAL,GACD,CAnBmC,uCAoB3B,CACP,MACE,qBAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAE,KAAKF,KAAL,CAAWC,QAA5C,EACE,oBAAC,SAAD,CAAe,KAAKF,KAApB,CADF,CADF,CAKD,CA1BmC,gCACLN,KAAK,CAACI,SADD,EA4BtC,MAAOF,CAAAA,YAAY,CAACG,kBAAD,CAAnB,CACD,CA7BD,CA+BA,cAAeF,CAAAA,kBAAf","sourcesContent":["import React from 'react';\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        authUser: null,\n      };\n    }\n    componentDidMount() {\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\n        authUser => {\n          authUser\n            ? this.setState({ authUser })\n            : this.setState({ authUser: null });\n        },\n      );\n    }\n    componentWillUnmount() {\n      this.listener();\n    }\n    render() {\n      return (\n        <AuthUserContext.Provider value={this.state.authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  }\n  return withFirebase(WithAuthentication);\n};\n\nexport default withAuthentication;"]},"metadata":{},"sourceType":"module"}